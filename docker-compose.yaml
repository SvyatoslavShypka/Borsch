version: "3.9"

services:
#  postgres:
#    image: postgresql:latest
#    container_name: PostgreSQL
#    environment:
#      POSTGRES_DB: ""
#      POSTGRES_USER: ""
#      POSTGRES_PASSWORD: ""
#    ports:
#      - "5432"
#ENV spring.profiles.active=production
  web:
    secrets: # secrets block only for 'web' service
      - my_file_secret
    environment:
      - spring.profiles.active=production
    restart: always
    expose:
      - 2665
    ports:
      - 7778:7778
    image: borsch3:latest
    build: .
secrets: # top level secrets block
  my_file_secret:
    file: secrets.txt